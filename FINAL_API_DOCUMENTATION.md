# ğŸ¯ IPTV Unified API - Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø´Ø§Ù…Ù„

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØ·ÙˆÙŠØ± API Ù…ÙˆØ­Ø¯ Ø´Ø§Ù…Ù„ Ù„Ø®Ø¯Ù…Ø§Øª IPTV Ù…Ù† ØªØ­Ù„ÙŠÙ„ Ø¹Ø¯Ø© Ù…Ù„ÙØ§Øª Ù…ØªØ®ØµØµØ©ØŒ ÙŠÙˆÙØ± ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…ØªÙƒØ§Ù…Ù„Ø© ØªØ¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© Ù„Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ **ØªØ·Ø¨ÙŠÙ‚ Android IPTV Player**.

## ğŸ” Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ù„Ù„Ø© ÙˆØ§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©

### ğŸ“ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:
1. **ViagraUltra_Portal_Check_2024.txt** - ÙØ§Ø­Øµ Ø¨ÙˆØ§Ø¨Ø§Øª Ù…ØªÙ‚Ø¯Ù… (45+ Ù†ÙˆØ¹ Ø¨ÙˆØ§Ø¨Ø©)
2. **A_pxll313_âˆšáµ–Ê³áµ’Â³_Flag-dec.txt** - ÙØ§Ø­Øµ Ø´Ø§Ù…Ù„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª 
3. **Ali_Premium-dec.txt** - ÙØ§Ø­Øµ IPTV/Stalker Portal (Ø³Ø§Ø¨Ù‚)

### ğŸ¯ Ù…Ø§ ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬Ù‡:
- **45+ Portal Types** Ù…Ø®ØªÙ„ÙØ©
- **MAC Address Generation** Ù…ØªÙ‚Ø¯Ù…
- **Token-based Authentication** 
- **Geographic Location Detection**
- **M3U Parsing** Ø´Ø§Ù…Ù„
- **Batch Processing** Ù„Ù„ÙØ­Øµ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯
- **Real-time Portal Discovery**

---

## ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### ğŸ“¦ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:

```
â”œâ”€â”€ unified_iptv_api.py          # Core API Library
â”œâ”€â”€ flask_iptv_api_server.py     # REST API Server
â”œâ”€â”€ android_integration_example.kt  # Android Integration
â”œâ”€â”€ comprehensive_iptv_api_analysis.md  # Technical Analysis
â””â”€â”€ requirements_api.txt         # Dependencies
```

### ğŸ”§ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:
- **Python 3.6+** - Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- **Flask** - REST API Framework
- **Requests** - HTTP Client Library
- **Threading** - Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©
- **Hashlib** - Ø§Ù„ØªØ´ÙÙŠØ± ÙˆØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø±ÙØ§Øª
- **RegEx** - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù†ØµÙˆØµ

---

## ğŸš€ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹

### 1ï¸âƒ£ ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª:
```bash
pip install -r requirements_api.txt
```

### 2ï¸âƒ£ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…:
```bash
python flask_iptv_api_server.py
```

### 3ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± API:
```bash
curl http://localhost:5000/
```

---

## ğŸ“š ÙˆØ§Ø¬Ù‡Ø§Øª API Ø§Ù„Ù…ØªØ§Ø­Ø©

### ğŸ” 1. Portal Discovery - Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª
**POST** `/api/discover`

```json
{
  "host": "example.com:8080"
}
```

**Response:**
```json
{
  "success": true,
  "status_code": 200,
  "endpoint": "/stalker_portal/server/load.php",
  "portal_type": "stalker",
  "host": "example.com:8080",
  "full_url": "http://example.com:8080/stalker_portal/server/load.php",
  "geo_info": {
    "ip": "1.2.3.4",
    "country": "United States",
    "country_code": "US",
    "city": "New York",
    "isp": "Example ISP"
  }
}
```

### ğŸ­ 2. Stalker Portal Check - ÙØ­Øµ Ø³ØªØ§Ù„ÙƒØ± Ø¨ÙˆØ±ØªØ§Ù„
**POST** `/api/stalker/check`

```json
{
  "host": "example.com:8080",
  "mac": "00:1A:79:01:CA:35",
  "portal_path": "/stalker_portal/server/load.php",
  "include_channels": true,
  "include_vod": true,
  "include_series": true
}
```

**Response:**
```json
{
  "success": true,
  "host": "example.com:8080",
  "mac": "00:1A:79:01:CA:35",
  "token": "abc123token",
  "profile": {
    "id": "12345",
    "login": "user123",
    "status": "active"
  },
  "account_info": {
    "phone": "Dec 31, 2024",
    "full_name": "Test User"
  },
  "channels": [...],
  "channels_count": 150
}
```

### ğŸ“º 3. Xtream Codes Check - ÙØ­Øµ Ø¥ÙƒØ³ØªØ±ÙŠÙ… ÙƒÙˆØ¯Ø²
**POST** `/api/xtream/check`

```json
{
  "host": "example.com:8080",
  "username": "test_user",
  "password": "test_pass",
  "include_content": true
}
```

**Response:**
```json
{
  "success": true,
  "host": "example.com:8080",
  "username": "test_user",
  "user_info": {
    "username": "test_user",
    "status": "Active",
    "exp_date": "1735689599",
    "max_connections": "2"
  },
  "server_info": {
    "url": "example.com",
    "port": "8080",
    "timezone": "Europe/London"
  },
  "m3u_url": "http://example.com:8080/get.php?username=test_user&password=test_pass&type=m3u_plus",
  "xmltv_url": "http://example.com:8080/xmltv.php?username=test_user&password=test_pass"
}
```

### ğŸ“„ 4. M3U Parser - ØªØ­Ù„ÙŠÙ„ M3U
**POST** `/api/m3u/parse`

```json
{
  "url": "http://example.com/playlist.m3u"
}
```
Ø£Ùˆ
```json
{
  "content": "#EXTM3U\n#EXTINF:-1,Channel Name\nhttp://stream.url"
}
```

**Response:**
```json
{
  "success": true,
  "channels_count": 100,
  "channels": [
    {
      "name": "Channel Name",
      "url": "http://stream.url",
      "tvg-id": "channel1",
      "tvg-logo": "http://logo.url",
      "group-title": "Sports"
    }
  ],
  "categories": {
    "Sports": 25,
    "News": 30,
    "Movies": 45
  }
}
```

### ğŸ² 5. MAC Address Generation - ØªÙˆÙ„ÙŠØ¯ Ø¹Ù†Ø§ÙˆÙŠÙ† MAC
**POST** `/api/utils/generate_mac`

```json
{
  "prefix": "00:1A:79:",
  "count": 5
}
```

**Response:**
```json
{
  "success": true,
  "count": 5,
  "macs": [
    {
      "mac": "00:1A:79:01:CA:35",
      "device_credentials": {
        "mac": "00:1A:79:01:CA:35",
        "mac_encoded": "00%3A1A%3A79%3A01%3ACA%3A35",
        "serial_number": "ABC123DEF4567",
        "device_id": "1234567890ABCDEF",
        "signature": "FEDCBA0987654321",
        "stb_type": "MAG254"
      }
    }
  ]
}
```

### ğŸŒ 6. Geographic Location - Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
**POST** `/api/utils/geo_location`

```json
{
  "ip_or_host": "example.com"
}
```

**Response:**
```json
{
  "success": true,
  "geo_info": {
    "ip": "1.2.3.4",
    "country": "United States",
    "country_code": "US",
    "country_flag": "ğŸ‡ºğŸ‡¸",
    "city": "New York",
    "region": "New York",
    "isp": "Example ISP",
    "continent": "North America"
  }
}
```

### ğŸ“Š 7. Batch Check - Ø§Ù„ÙØ­Øµ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯
**POST** `/api/batch/check`

```json
{
  "type": "stalker",
  "accounts": [
    {
      "host": "server1.com:8080",
      "mac": "00:1A:79:01:CA:35"
    },
    {
      "host": "server2.com:8080", 
      "mac": "00:1A:79:01:CA:36"
    }
  ]
}
```

**Response:**
```json
{
  "success": true,
  "task_id": "task_1",
  "message": "Batch check started",
  "total_accounts": 2
}
```

### ğŸ“ˆ 8. Task Status - Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ø©
**GET** `/api/task/{task_id}`

**Response:**
```json
{
  "success": true,
  "task": {
    "id": "task_1",
    "type": "batch_check",
    "status": "completed",
    "progress": 100,
    "total": 2,
    "results": [...]
  }
}
```

---

## ğŸ“± Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Android

### ğŸ”§ Ø¥Ø¹Ø¯Ø§Ø¯ Dependencies ÙÙŠ `build.gradle`:

```gradle
dependencies {
    implementation 'com.squareup.okhttp3:okhttp:4.11.0'
    implementation 'com.google.code.gson:gson:2.10.1'
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.7.3'
}
```

### ğŸ’» Ù…Ø«Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Android:

```kotlin
// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø«ÙŠÙ„ Ù…Ù† API Service
val apiService = IPTVApiService("http://your-api-server:5000")

// Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©
lifecycleScope.launch {
    val result = apiService.discoverPortal("example.com:8080")
    if (result.success) {
        val portalInfo = result.data
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©
    }
}

// ÙØ­Øµ Stalker Portal
lifecycleScope.launch {
    val result = apiService.checkStalker(
        host = "example.com:8080",
        mac = "00:1A:79:01:CA:35",
        includeChannels = true
    )
    
    if (result.success) {
        val stalkerData = result.data
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
    }
}

// ØªÙˆÙ„ÙŠØ¯ MAC Ø¹Ø´ÙˆØ§Ø¦ÙŠ
lifecycleScope.launch {
    val result = apiService.generateMAC(count = 1)
    if (result.success && result.data?.isNotEmpty() == true) {
        val generatedMAC = result.data.first().mac
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… MAC Ø§Ù„Ù…ÙˆÙ„Ø¯
    }
}
```

### ğŸ—ï¸ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Architecture Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯:

```kotlin
// ÙÙŠ AddSourceViewModel
class AddSourceViewModel(
    private val sourceRepository: SourceRepository,
    private val iptvApiService: IPTVApiService
) : ViewModel() {
    
    fun addStalkerSource(name: String, host: String, mac: String) {
        viewModelScope.launch {
            try {
                // Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹
                val discoveryResult = iptvApiService.discoverPortal(host)
                
                // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„
                val checkResult = iptvApiService.checkStalker(host, mac)
                
                if (checkResult.success) {
                    // Ø¥Ù†Ø´Ø§Ø¡ Ù…ØµØ¯Ø± Ø¬Ø¯ÙŠØ¯
                    val source = Source(
                        name = name,
                        type = SourceType.STALKER_PORTAL,
                        host = host,
                        mac = mac,
                        isActive = true
                    )
                    
                    // Ø­ÙØ¸ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    sourceRepository.insertSource(source)
                }
            } catch (e: Exception) {
                // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®Ø·Ø£
            }
        }
    }
}
```

---

## ğŸ¯ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### ğŸš€ Portal Types Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø© (45+ Ù†ÙˆØ¹):

```python
PORTAL_TYPES = [
    '/portal.php',                    # Standard MAG Portal
    '/server/load.php',               # Stalker Load
    '/stalker_portal/server/load.php', # Full Stalker
    '/c/portal.php',                  # NXT Portal
    '/ministra/portal.php',           # Ministra
    '/magaccess/portal.php',          # MAG Access
    '/bs.mag.portal.php',             # BS MAG
    '/magportal/portal.php',          # MAG Portal
    '/tek/server/load.php',           # TEK Portal
    '/emu/server/load.php',           # EMU Portal
    '/portalmega.php',                # Mega Portal
    '/rmxportal/portal.php',          # RMX Portal
    '/powerfull/portal.php',          # PowerFull Portal
    '/nettvmag/portal.php',           # NetTV MAG
    '/cmdforex/portal.php',           # CMD Forex
    '/extraportal.php',               # Extra Portal
    '/delko/portal.php',              # Delko Portal
    '/bStream/portal.php',            # BStream Portal
    '/blowportal/portal.php',         # Blow Portal
    # ... Ùˆ Ø§Ù„Ù…Ø²ÙŠØ¯
]
```

### ğŸ² MAC Prefixes Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:

```python
MAC_PREFIXES = [
    '00:1A:79:',  # Standard MAG
    '78:A3:52:',  # Alternative 1
    '10:27:BE:',  # Alternative 2
    'A0:BB:3E:',  # Alternative 3
    'D0:9F:D9:',  # Alternative 4
    '04:D6:AA:',  # Alternative 5
    # ... Ùˆ Ø§Ù„Ù…Ø²ÙŠØ¯
]
```

### ğŸŒ Geographic Detection Features:

- **IP Geolocation** - ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø®Ø§Ø¯Ù…
- **Country Flags** - Ø£Ø¹Ù„Ø§Ù… Ø§Ù„Ø¯ÙˆÙ„
- **ISP Detection** - ØªØ­Ø¯ÙŠØ¯ Ù…Ø²ÙˆØ¯ Ø§Ù„Ø®Ø¯Ù…Ø©
- **Timezone Info** - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
- **VPN Detection** - ÙƒØ´Ù Ø§Ø³ØªØ®Ø¯Ø§Ù… VPN

---

## ğŸ”§ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### 1ï¸âƒ£ ÙØ­Øµ Ù…ØªØ¹Ø¯Ø¯ Ø¨Ù€ Threading:

```python
import threading
from concurrent.futures import ThreadPoolExecutor

def batch_check_accounts(accounts, max_workers=10):
    with ThreadPoolExecutor(max_workers=max_workers) as executor:
        futures = []
        
        for account in accounts:
            future = executor.submit(check_single_account, account)
            futures.append(future)
        
        results = []
        for future in futures:
            try:
                result = future.result(timeout=30)
                results.append(result)
            except Exception as e:
                results.append({'error': str(e)})
        
        return results
```

### 2ï¸âƒ£ MAC Generation Ù…Ø¹ Custom Logic:

```python
def generate_sequential_macs(prefix, count, start_suffix=None):
    """ØªÙˆÙ„ÙŠØ¯ Ø¹Ù†Ø§ÙˆÙŠÙ† MAC Ù…ØªØ³Ù„Ø³Ù„Ø©"""
    macs = []
    
    if start_suffix:
        current = int(start_suffix.replace(':', ''), 16)
    else:
        current = 0
    
    for i in range(count):
        suffix = f"{current:06X}"
        formatted_suffix = f"{suffix[:2]}:{suffix[2:4]}:{suffix[4:6]}"
        mac = f"{prefix}{formatted_suffix}"
        macs.append(mac)
        current += 1
    
    return macs
```

### 3ï¸âƒ£ Smart Portal Detection:

```python
def smart_portal_detection(host):
    """Ø§ÙƒØªØ´Ø§Ù Ø°ÙƒÙŠ Ù„Ù„Ø¨ÙˆØ§Ø¨Ø© Ù…Ø¹ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©"""
    
    # ÙØ­Øµ Ø£Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„ÙØ©
    portal_tests = [
        ('/stalker_portal/server/load.php', 'stalker'),
        ('/portal.php', 'mag'),
        ('/c/portal.php', 'nxt'),
        ('/ministra/portal.php', 'ministra')
    ]
    
    results = []
    
    for endpoint, portal_type in portal_tests:
        try:
            response = requests.get(f"http://{host}{endpoint}", timeout=5)
            
            # ØªØ­Ù„ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
            content_analysis = analyze_response_content(response.text)
            
            results.append({
                'endpoint': endpoint,
                'type': portal_type,
                'status_code': response.status_code,
                'analysis': content_analysis,
                'confidence': calculate_confidence_score(response, portal_type)
            })
            
        except Exception as e:
            continue
    
    # ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø¨ Ø§Ù„Ø«Ù‚Ø©
    results.sort(key=lambda x: x['confidence'], reverse=True)
    
    return results[0] if results else None
```

---

## ğŸ“ˆ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

### ğŸ“Š Metrics Collection:

```python
class APIMetrics:
    def __init__(self):
        self.requests_count = 0
        self.successful_checks = 0
        self.failed_checks = 0
        self.average_response_time = 0
        self.portal_type_stats = {}
    
    def record_request(self, portal_type, success, response_time):
        self.requests_count += 1
        
        if success:
            self.successful_checks += 1
        else:
            self.failed_checks += 1
        
        # ØªØ­Ø¯ÙŠØ« Ù…ØªÙˆØ³Ø· Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
        self.average_response_time = (
            (self.average_response_time * (self.requests_count - 1) + response_time) 
            / self.requests_count
        )
        
        # Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©
        if portal_type not in self.portal_type_stats:
            self.portal_type_stats[portal_type] = {'success': 0, 'failed': 0}
        
        if success:
            self.portal_type_stats[portal_type]['success'] += 1
        else:
            self.portal_type_stats[portal_type]['failed'] += 1
    
    def get_success_rate(self):
        if self.requests_count == 0:
            return 0
        return (self.successful_checks / self.requests_count) * 100
```

---

## ğŸ›¡ï¸ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©

### ğŸ” Security Best Practices:

1. **Input Validation** - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
2. **Rate Limiting** - ØªØ­Ø¯ÙŠØ¯ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
3. **Authentication** - Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù€ API
4. **Logging** - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
5. **Error Handling** - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø£Ù…Ø§Ù†

### ğŸ›¡ï¸ Ù…Ø«Ø§Ù„ Rate Limiting:

```python
from flask_limiter import Limiter
from flask_limiter.util import get_remote_address

limiter = Limiter(
    app,
    key_func=get_remote_address,
    default_limits=["200 per day", "50 per hour"]
)

@app.route('/api/discover', methods=['POST'])
@limiter.limit("10 per minute")
def discover_portal():
    # API logic here
    pass
```

---

## ğŸš€ Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„ØªØ´ØºÙŠÙ„ ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬

### ğŸ³ Docker Deployment:

```dockerfile
FROM python:3.9-slim

WORKDIR /app

COPY requirements_api.txt .
RUN pip install -r requirements_api.txt

COPY . .

EXPOSE 5000

CMD ["gunicorn", "--bind", "0.0.0.0:5000", "flask_iptv_api_server:app"]
```

### âš™ï¸ Production Configuration:

```python
# config.py
import os

class ProductionConfig:
    DEBUG = False
    TESTING = False
    
    # Database
    DATABASE_URL = os.environ.get('DATABASE_URL')
    
    # Security
    SECRET_KEY = os.environ.get('SECRET_KEY')
    
    # Rate Limiting
    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL')
    
    # Logging
    LOG_LEVEL = 'INFO'
    LOG_FILE = '/var/log/iptv-api.log'
```

---

## ğŸ“‹ Ø®Ø§ØªÙ…Ø©

### âœ… Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡:

1. **Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø§Ù…Ù„** Ù…Ù† 4 Ù…Ù„ÙØ§Øª IPTV Ù…ØªØ®ØµØµØ©
2. **API Ù…ÙˆØ­Ø¯** ÙŠØ¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
3. **Flask REST API** Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬
4. **Android Integration** ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©
5. **45+ Portal Types** Ù…Ø¯Ø¹ÙˆÙ…Ø©
6. **Advanced Features** Ù…Ø«Ù„ Batch Processing Ùˆ Geographic Detection

### ğŸ¯ Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:

- **Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„** Ù…Ø¹ ØªØ·Ø¨ÙŠÙ‚ Android Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯
- **Ø¯Ø¹Ù… Ø´Ø§Ù…Ù„** Ù„Ø¬Ù…ÙŠØ¹ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª IPTV
- **Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ** Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©
- **Ù…Ø±ÙˆÙ†Ø© ÙƒØ§Ù…Ù„Ø©** ÙÙŠ Ø§Ù„ØªØ®ØµÙŠØµ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±
- **Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø¹Ø§Ù„ÙŠØ©** Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### ğŸš€ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:

1. **ØªØ´ØºÙŠÙ„ API Server** ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬
2. **ØªÙƒØ§Ù…Ù„ Android App** Ù…Ø¹ Ø§Ù„Ù€ API Ø§Ù„Ø¬Ø¯ÙŠØ¯
3. **Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Features** Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
4. **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡** ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø³Ø±Ø¹Ø©
5. **ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø¯Ø¹Ù…** Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

Ù‡Ø°Ø§ API Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙˆØ±ÙŠ ÙˆÙŠÙˆÙØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ IPTV Ù…ØªÙƒØ§Ù…Ù„. ÙŠÙ…ÙƒÙ† ØªÙˆØ³ÙŠØ¹Ù‡ ÙˆØªØ®ØµÙŠØµÙ‡ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø­Ø³Ø¨ Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.

**ğŸ‰ ØªØ·Ø¨ÙŠÙ‚ IPTV Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø§Ù„Ø¢Ù† ÙŠØ¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª IPTV Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© Ù…Ø¹ API Ù…ØªÙ‚Ø¯Ù… ÙˆÙ…Ø±Ù†!**